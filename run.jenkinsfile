pipeline {
	agent any
    environment {
		DOCKER_IMAGE = 'krzaczek24/krzaq.mikrus.webapi'
    }
    stages {
        stage('Pull') {
            steps {
                sh "docker pull ${DOCKER_IMAGE}:${IMAGE_TAG}"
            }
        }
		stage('Run') {
			steps {
                sh "docker run --rm ${DOCKER_IMAGE}:${IMAGE_TAG} -p 8080:44538"
            }
		}
    }
}
